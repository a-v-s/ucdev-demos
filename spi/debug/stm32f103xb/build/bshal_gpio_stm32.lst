ARM GAS  /tmp/ccpY5WC4.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"bshal_gpio_stm32.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.bshal_gpio_encode_pin,"ax",%progbits
  16              		.align	1
  17              		.global	bshal_gpio_encode_pin
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	bshal_gpio_encode_pin:
  25              	.LFB65:
  26              		.file 1 "../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c"
   1:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 
   2:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 
   3:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #include <stdlib.h>
   4:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #include <stdint.h>
   5:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #include <stdbool.h>
   6:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 
   7:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #include "bshal_gpio_stm32.h"
   8:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 
   9:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** uint8_t bshal_gpio_encode_pin(GPIO_TypeDef *port, uint16_t pin) {
  27              		.loc 1 9 65
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 16
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32 0000 80B4     		push	{r7}
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 7, -4
  35 0002 85B0     		sub	sp, sp, #20
  36              		.cfi_def_cfa_offset 24
  37 0004 00AF     		add	r7, sp, #0
  38              		.cfi_def_cfa_register 7
  39 0006 7860     		str	r0, [r7, #4]
  40 0008 0B46     		mov	r3, r1
  41 000a 7B80     		strh	r3, [r7, #2]	@ movhi
  10:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	uint8_t result = 0;
  42              		.loc 1 10 10
  43 000c 0023     		movs	r3, #0
  44 000e FB73     		strb	r3, [r7, #15]
  45              	.LBB2:
  11:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	for (int i = 0; i < 16; i++) {
  46              		.loc 1 11 11
  47 0010 0023     		movs	r3, #0
ARM GAS  /tmp/ccpY5WC4.s 			page 2


  48 0012 BB60     		str	r3, [r7, #8]
  49              		.loc 1 11 2
  50 0014 11E0     		b	.L2
  51              	.L6:
  12:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		if ((1 << i) & pin) {
  52              		.loc 1 12 7
  53 0016 7A88     		ldrh	r2, [r7, #2]
  54 0018 BB68     		ldr	r3, [r7, #8]
  55 001a 42FA03F3 		asr	r3, r2, r3
  56 001e 03F00103 		and	r3, r3, #1
  57              		.loc 1 12 6
  58 0022 002B     		cmp	r3, #0
  59 0024 06D0     		beq	.L3
  13:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			if (result)
  60              		.loc 1 13 7
  61 0026 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
  62 0028 002B     		cmp	r3, #0
  63 002a 01D0     		beq	.L4
  14:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 				return -1;
  64              		.loc 1 14 12
  65 002c FF23     		movs	r3, #255
  66 002e 31E0     		b	.L1
  67              	.L4:
  15:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			result = i;
  68              		.loc 1 15 11
  69 0030 BB68     		ldr	r3, [r7, #8]
  70 0032 FB73     		strb	r3, [r7, #15]
  71              	.L3:
  11:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		if ((1 << i) & pin) {
  72              		.loc 1 11 27 discriminator 2
  73 0034 BB68     		ldr	r3, [r7, #8]
  74 0036 0133     		adds	r3, r3, #1
  75 0038 BB60     		str	r3, [r7, #8]
  76              	.L2:
  11:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		if ((1 << i) & pin) {
  77              		.loc 1 11 20 discriminator 1
  78 003a BB68     		ldr	r3, [r7, #8]
  79 003c 0F2B     		cmp	r3, #15
  80 003e EADD     		ble	.L6
  81              	.LBE2:
  16:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		}
  17:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	}
  18:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOA
  19:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOA)
  82              		.loc 1 19 5
  83 0040 7B68     		ldr	r3, [r7, #4]
  84 0042 174A     		ldr	r2, .L12
  85 0044 9342     		cmp	r3, r2
  86 0046 01D1     		bne	.L7
  20:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 0 << 4);
  87              		.loc 1 20 16
  88 0048 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
  89 004a 23E0     		b	.L1
  90              	.L7:
  21:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  22:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOB
  23:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOB)
ARM GAS  /tmp/ccpY5WC4.s 			page 3


  91              		.loc 1 23 5
  92 004c 7B68     		ldr	r3, [r7, #4]
  93 004e 154A     		ldr	r2, .L12+4
  94 0050 9342     		cmp	r3, r2
  95 0052 04D1     		bne	.L8
  24:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 1 << 4);
  96              		.loc 1 24 16
  97 0054 FB7B     		ldrb	r3, [r7, #15]
  98 0056 43F01003 		orr	r3, r3, #16
  99 005a DBB2     		uxtb	r3, r3
 100 005c 1AE0     		b	.L1
 101              	.L8:
  25:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  26:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOC
  27:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOC)
 102              		.loc 1 27 5
 103 005e 7B68     		ldr	r3, [r7, #4]
 104 0060 114A     		ldr	r2, .L12+8
 105 0062 9342     		cmp	r3, r2
 106 0064 04D1     		bne	.L9
  28:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 2 << 4);
 107              		.loc 1 28 16
 108 0066 FB7B     		ldrb	r3, [r7, #15]
 109 0068 43F02003 		orr	r3, r3, #32
 110 006c DBB2     		uxtb	r3, r3
 111 006e 11E0     		b	.L1
 112              	.L9:
  29:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  30:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOD
  31:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOD)
 113              		.loc 1 31 5
 114 0070 7B68     		ldr	r3, [r7, #4]
 115 0072 0E4A     		ldr	r2, .L12+12
 116 0074 9342     		cmp	r3, r2
 117 0076 04D1     		bne	.L10
  32:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 3 << 4);
 118              		.loc 1 32 16
 119 0078 FB7B     		ldrb	r3, [r7, #15]
 120 007a 43F03003 		orr	r3, r3, #48
 121 007e DBB2     		uxtb	r3, r3
 122 0080 08E0     		b	.L1
 123              	.L10:
  33:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  34:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOE
  35:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOE)
 124              		.loc 1 35 5
 125 0082 7B68     		ldr	r3, [r7, #4]
 126 0084 0A4A     		ldr	r2, .L12+16
 127 0086 9342     		cmp	r3, r2
 128 0088 04D1     		bne	.L11
  36:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 4 << 4);
 129              		.loc 1 36 16
 130 008a FB7B     		ldrb	r3, [r7, #15]
 131 008c 43F04003 		orr	r3, r3, #64
 132 0090 DBB2     		uxtb	r3, r3
 133 0092 FFE7     		b	.L1
 134              	.L11:
ARM GAS  /tmp/ccpY5WC4.s 			page 4


 135              	.L1:
  37:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  38:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOF
  39:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOF)
  40:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 5 << 4);
  41:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  42:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOG
  43:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOG)
  44:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 6 << 4);
  45:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  46:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOH
  47:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOH)
  48:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 7 << 4);
  49:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  50:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOI
  51:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOI)
  52:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 8 << 4);
  53:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  54:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOJ
  55:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOJ)
  56:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 9 << 4);
  57:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  58:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOK
  59:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOK)
  60:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 10 << 4);
  61:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  62:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOL
  63:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOL)
  64:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 11 << 4);
  65:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  66:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOM
  67:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOM)
  68:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 12 << 4);
  69:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  70:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPION
  71:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPION)
  72:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 13 << 4);
  73:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  74:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOO
  75:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port == GPIOO)
  76:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	return result | ( 14 << 4);
  77:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
  78:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** }
 136              		.loc 1 78 1
 137 0094 1846     		mov	r0, r3
 138 0096 1437     		adds	r7, r7, #20
 139              		.cfi_def_cfa_offset 4
 140 0098 BD46     		mov	sp, r7
 141              		.cfi_def_cfa_register 13
 142              		@ sp needed
 143 009a 80BC     		pop	{r7}
 144              		.cfi_restore 7
 145              		.cfi_def_cfa_offset 0
 146 009c 7047     		bx	lr
 147              	.L13:
 148 009e 00BF     		.align	2
 149              	.L12:
ARM GAS  /tmp/ccpY5WC4.s 			page 5


 150 00a0 00080140 		.word	1073809408
 151 00a4 000C0140 		.word	1073810432
 152 00a8 00100140 		.word	1073811456
 153 00ac 00140140 		.word	1073812480
 154 00b0 00180140 		.word	1073813504
 155              		.cfi_endproc
 156              	.LFE65:
 158              		.section	.text.bshal_gpio_decode_pin,"ax",%progbits
 159              		.align	1
 160              		.global	bshal_gpio_decode_pin
 161              		.syntax unified
 162              		.thumb
 163              		.thumb_func
 164              		.fpu softvfp
 166              	bshal_gpio_decode_pin:
 167              	.LFB66:
  79:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 
  80:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** void bshal_gpio_decode_pin(uint8_t bs_pin, GPIO_TypeDef **port, uint16_t *pin) {
 168              		.loc 1 80 80
 169              		.cfi_startproc
 170              		@ args = 0, pretend = 0, frame = 16
 171              		@ frame_needed = 1, uses_anonymous_args = 0
 172              		@ link register save eliminated.
 173 0000 80B4     		push	{r7}
 174              		.cfi_def_cfa_offset 4
 175              		.cfi_offset 7, -4
 176 0002 85B0     		sub	sp, sp, #20
 177              		.cfi_def_cfa_offset 24
 178 0004 00AF     		add	r7, sp, #0
 179              		.cfi_def_cfa_register 7
 180 0006 0346     		mov	r3, r0
 181 0008 B960     		str	r1, [r7, #8]
 182 000a 7A60     		str	r2, [r7, #4]
 183 000c FB73     		strb	r3, [r7, #15]
  81:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	*pin = 1 << (bs_pin & 0xF);
 184              		.loc 1 81 22
 185 000e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 186 0010 03F00F03 		and	r3, r3, #15
 187              		.loc 1 81 11
 188 0014 0122     		movs	r2, #1
 189 0016 02FA03F3 		lsl	r3, r2, r3
 190              		.loc 1 81 7
 191 001a 9AB2     		uxth	r2, r3
 192 001c 7B68     		ldr	r3, [r7, #4]
 193 001e 1A80     		strh	r2, [r3]	@ movhi
  82:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	*port = NULL;
 194              		.loc 1 82 8
 195 0020 BB68     		ldr	r3, [r7, #8]
 196 0022 0022     		movs	r2, #0
 197 0024 1A60     		str	r2, [r3]
  83:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOA
  84:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 0 << 4) )
 198              		.loc 1 84 15
 199 0026 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 200 0028 03F0F003 		and	r3, r3, #240
 201              		.loc 1 84 5
 202 002c 002B     		cmp	r3, #0
ARM GAS  /tmp/ccpY5WC4.s 			page 6


 203 002e 02D1     		bne	.L15
  85:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOA;
 204              		.loc 1 85 9
 205 0030 BB68     		ldr	r3, [r7, #8]
 206 0032 134A     		ldr	r2, .L21
 207 0034 1A60     		str	r2, [r3]
 208              	.L15:
  86:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  87:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOB
  88:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 1 << 4) )
 209              		.loc 1 88 15
 210 0036 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 211 0038 03F0F003 		and	r3, r3, #240
 212              		.loc 1 88 5
 213 003c 102B     		cmp	r3, #16
 214 003e 02D1     		bne	.L16
  89:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOB;
 215              		.loc 1 89 9
 216 0040 BB68     		ldr	r3, [r7, #8]
 217 0042 104A     		ldr	r2, .L21+4
 218 0044 1A60     		str	r2, [r3]
 219              	.L16:
  90:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  91:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOC
  92:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 2 << 4) )
 220              		.loc 1 92 15
 221 0046 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 222 0048 03F0F003 		and	r3, r3, #240
 223              		.loc 1 92 5
 224 004c 202B     		cmp	r3, #32
 225 004e 02D1     		bne	.L17
  93:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOC;
 226              		.loc 1 93 9
 227 0050 BB68     		ldr	r3, [r7, #8]
 228 0052 0D4A     		ldr	r2, .L21+8
 229 0054 1A60     		str	r2, [r3]
 230              	.L17:
  94:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  95:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOD
  96:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 3 << 4) )
 231              		.loc 1 96 15
 232 0056 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 233 0058 03F0F003 		and	r3, r3, #240
 234              		.loc 1 96 5
 235 005c 302B     		cmp	r3, #48
 236 005e 02D1     		bne	.L18
  97:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOD;
 237              		.loc 1 97 9
 238 0060 BB68     		ldr	r3, [r7, #8]
 239 0062 0A4A     		ldr	r2, .L21+12
 240 0064 1A60     		str	r2, [r3]
 241              	.L18:
  98:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
  99:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOE
 100:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 4 << 4) )
 242              		.loc 1 100 15
 243 0066 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
ARM GAS  /tmp/ccpY5WC4.s 			page 7


 244 0068 03F0F003 		and	r3, r3, #240
 245              		.loc 1 100 5
 246 006c 402B     		cmp	r3, #64
 247 006e 02D1     		bne	.L20
 101:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOE;
 248              		.loc 1 101 9
 249 0070 BB68     		ldr	r3, [r7, #8]
 250 0072 074A     		ldr	r2, .L21+16
 251 0074 1A60     		str	r2, [r3]
 252              	.L20:
 102:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 103:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOF
 104:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 5 << 4) )
 105:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOF;
 106:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 107:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOG
 108:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 6 << 4) )
 109:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOG;
 110:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 111:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOH
 112:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 7 << 4) )
 113:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOH;
 114:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 115:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOI
 116:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 8 << 4) )
 117:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOI;
 118:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 119:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOJ
 120:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 9 << 4) )
 121:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOJ;
 122:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 123:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOK
 124:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 10 << 4) )
 125:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOK;
 126:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 127:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOL
 128:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 11 << 4) )
 129:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOL;
 130:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 131:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOM
 132:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 12 << 4) )
 133:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOM;
 134:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 135:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPION
 136:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 13 << 4) )
 137:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPION;
 138:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 139:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOO
 140:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if ( (bs_pin & 0xF0)  == ( 14 << 4) )
 141:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		*port = GPIOO;
 142:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif	
 143:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** }
 253              		.loc 1 143 1
 254 0076 00BF     		nop
 255 0078 1437     		adds	r7, r7, #20
 256              		.cfi_def_cfa_offset 4
 257 007a BD46     		mov	sp, r7
ARM GAS  /tmp/ccpY5WC4.s 			page 8


 258              		.cfi_def_cfa_register 13
 259              		@ sp needed
 260 007c 80BC     		pop	{r7}
 261              		.cfi_restore 7
 262              		.cfi_def_cfa_offset 0
 263 007e 7047     		bx	lr
 264              	.L22:
 265              		.align	2
 266              	.L21:
 267 0080 00080140 		.word	1073809408
 268 0084 000C0140 		.word	1073810432
 269 0088 00100140 		.word	1073811456
 270 008c 00140140 		.word	1073812480
 271 0090 00180140 		.word	1073813504
 272              		.cfi_endproc
 273              	.LFE66:
 275              		.section	.text.bshal_gpio_write_pin,"ax",%progbits
 276              		.align	1
 277              		.global	bshal_gpio_write_pin
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 281              		.fpu softvfp
 283              	bshal_gpio_write_pin:
 284              	.LFB67:
 144:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 
 145:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** void bshal_gpio_write_pin(uint8_t bs_pin, bool val) {
 285              		.loc 1 145 53
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 16
 288              		@ frame_needed = 1, uses_anonymous_args = 0
 289 0000 80B5     		push	{r7, lr}
 290              		.cfi_def_cfa_offset 8
 291              		.cfi_offset 7, -8
 292              		.cfi_offset 14, -4
 293 0002 84B0     		sub	sp, sp, #16
 294              		.cfi_def_cfa_offset 24
 295 0004 00AF     		add	r7, sp, #0
 296              		.cfi_def_cfa_register 7
 297 0006 0346     		mov	r3, r0
 298 0008 0A46     		mov	r2, r1
 299 000a FB71     		strb	r3, [r7, #7]
 300 000c 1346     		mov	r3, r2
 301 000e BB71     		strb	r3, [r7, #6]
 146:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	GPIO_TypeDef *port = NULL;
 302              		.loc 1 146 16
 303 0010 0023     		movs	r3, #0
 304 0012 FB60     		str	r3, [r7, #12]
 147:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	uint16_t pin = -1;
 305              		.loc 1 147 11
 306 0014 4FF6FF73 		movw	r3, #65535
 307 0018 7B81     		strh	r3, [r7, #10]	@ movhi
 148:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	bshal_gpio_decode_pin(bs_pin,&port,&pin);
 308              		.loc 1 148 2
 309 001a 07F10A02 		add	r2, r7, #10
 310 001e 07F10C01 		add	r1, r7, #12
 311 0022 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
ARM GAS  /tmp/ccpY5WC4.s 			page 9


 312 0024 1846     		mov	r0, r3
 313 0026 FFF7FEFF 		bl	bshal_gpio_decode_pin
 149:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	if (port)
 314              		.loc 1 149 6
 315 002a FB68     		ldr	r3, [r7, #12]
 316              		.loc 1 149 5
 317 002c 002B     		cmp	r3, #0
 318 002e 05D0     		beq	.L25
 150:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 		HAL_GPIO_WritePin(port, pin, val);
 319              		.loc 1 150 3
 320 0030 FB68     		ldr	r3, [r7, #12]
 321 0032 7989     		ldrh	r1, [r7, #10]
 322 0034 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 323 0036 1846     		mov	r0, r3
 324 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 325              	.L25:
 151:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** }
 326              		.loc 1 151 1
 327 003c 00BF     		nop
 328 003e 1037     		adds	r7, r7, #16
 329              		.cfi_def_cfa_offset 8
 330 0040 BD46     		mov	sp, r7
 331              		.cfi_def_cfa_register 13
 332              		@ sp needed
 333 0042 80BD     		pop	{r7, pc}
 334              		.cfi_endproc
 335              	.LFE67:
 337              		.section	.text.bshal_gpio_port_enable_clock,"ax",%progbits
 338              		.align	1
 339              		.global	bshal_gpio_port_enable_clock
 340              		.syntax unified
 341              		.thumb
 342              		.thumb_func
 343              		.fpu softvfp
 345              	bshal_gpio_port_enable_clock:
 346              	.LFB68:
 152:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 
 153:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** void bshal_gpio_port_enable_clock(uint8_t bs_pin) {
 347              		.loc 1 153 51
 348              		.cfi_startproc
 349              		@ args = 0, pretend = 0, frame = 40
 350              		@ frame_needed = 1, uses_anonymous_args = 0
 351 0000 80B5     		push	{r7, lr}
 352              		.cfi_def_cfa_offset 8
 353              		.cfi_offset 7, -8
 354              		.cfi_offset 14, -4
 355 0002 8AB0     		sub	sp, sp, #40
 356              		.cfi_def_cfa_offset 48
 357 0004 00AF     		add	r7, sp, #0
 358              		.cfi_def_cfa_register 7
 359 0006 0346     		mov	r3, r0
 360 0008 FB71     		strb	r3, [r7, #7]
 154:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 
 155:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	GPIO_TypeDef *port;
 156:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	uint16_t pin;
 157:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	bshal_gpio_decode_pin(bs_pin, &port, &pin);
 361              		.loc 1 157 2
ARM GAS  /tmp/ccpY5WC4.s 			page 10


 362 000a 07F12202 		add	r2, r7, #34
 363 000e 07F12401 		add	r1, r7, #36
 364 0012 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 365 0014 1846     		mov	r0, r3
 366 0016 FFF7FEFF 		bl	bshal_gpio_decode_pin
 158:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	switch ( (int)(port)) {
 367              		.loc 1 158 11
 368 001a 7B6A     		ldr	r3, [r7, #36]
 369              		.loc 1 158 2
 370 001c 2E4A     		ldr	r2, .L34
 371 001e 9342     		cmp	r3, r2
 372 0020 49D0     		beq	.L27
 373 0022 2D4A     		ldr	r2, .L34
 374 0024 9342     		cmp	r3, r2
 375 0026 53DC     		bgt	.L33
 376 0028 2C4A     		ldr	r2, .L34+4
 377 002a 9342     		cmp	r3, r2
 378 002c 36D0     		beq	.L29
 379 002e 2B4A     		ldr	r2, .L34+4
 380 0030 9342     		cmp	r3, r2
 381 0032 4DDC     		bgt	.L33
 382 0034 2A4A     		ldr	r2, .L34+8
 383 0036 9342     		cmp	r3, r2
 384 0038 23D0     		beq	.L30
 385 003a 294A     		ldr	r2, .L34+8
 386 003c 9342     		cmp	r3, r2
 387 003e 47DC     		bgt	.L33
 388 0040 284A     		ldr	r2, .L34+12
 389 0042 9342     		cmp	r3, r2
 390 0044 03D0     		beq	.L31
 391 0046 284A     		ldr	r2, .L34+16
 392 0048 9342     		cmp	r3, r2
 393 004a 0DD0     		beq	.L32
 159:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOA
 160:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOA:
 161:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOA_CLK_ENABLE();
 162:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 163:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 164:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOB
 165:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOB:
 166:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOB_CLK_ENABLE();
 167:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 168:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 169:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOC
 170:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOC:
 171:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOC_CLK_ENABLE();
 172:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 173:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 174:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOD
 175:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOD:
 176:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOD_CLK_ENABLE();
 177:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 178:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 179:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOE
 180:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOE:
 181:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOE_CLK_ENABLE();
 182:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
ARM GAS  /tmp/ccpY5WC4.s 			page 11


 183:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 184:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOF
 185:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOF:
 186:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOF_CLK_ENABLE();
 187:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 188:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 189:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOG
 190:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOG:
 191:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOG_CLK_ENABLE();
 192:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 193:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 194:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOH
 195:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOH:
 196:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOH_CLK_ENABLE();
 197:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 198:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 199:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOI
 200:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOI:
 201:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOI_CLK_ENABLE();
 202:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 203:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 204:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOJ
 205:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOJ:
 206:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOJ_CLK_ENABLE();
 207:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 208:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 209:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOK
 210:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOK:
 211:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOK_CLK_ENABLE();
 212:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 213:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 214:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOL
 215:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOL:
 216:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOL_CLK_ENABLE();
 217:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 218:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 219:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOM
 220:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOM:
 221:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOM_CLK_ENABLE();
 222:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 223:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 224:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPION
 225:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPION:
 226:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPION_CLK_ENABLE();
 227:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 228:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 229:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #ifdef GPIOO
 230:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	case (int)GPIOO:
 231:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			__HAL_RCC_GPIOO_CLK_ENABLE();
 232:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 233:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 
 234:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 235:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 	}
 236:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** }
 394              		.loc 1 236 1
 395 004c 40E0     		b	.L33
 396              	.L31:
ARM GAS  /tmp/ccpY5WC4.s 			page 12


 397              	.LBB3:
 161:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 398              		.loc 1 161 4
 399 004e 274B     		ldr	r3, .L34+20
 400 0050 9B69     		ldr	r3, [r3, #24]
 401 0052 264A     		ldr	r2, .L34+20
 402 0054 43F00403 		orr	r3, r3, #4
 403 0058 9361     		str	r3, [r2, #24]
 404 005a 244B     		ldr	r3, .L34+20
 405 005c 9B69     		ldr	r3, [r3, #24]
 406 005e 03F00403 		and	r3, r3, #4
 407 0062 FB61     		str	r3, [r7, #28]
 408 0064 FB69     		ldr	r3, [r7, #28]
 409              	.LBE3:
 162:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 410              		.loc 1 162 4
 411 0066 33E0     		b	.L28
 412              	.L32:
 413              	.LBB4:
 166:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 414              		.loc 1 166 4
 415 0068 204B     		ldr	r3, .L34+20
 416 006a 9B69     		ldr	r3, [r3, #24]
 417 006c 1F4A     		ldr	r2, .L34+20
 418 006e 43F00803 		orr	r3, r3, #8
 419 0072 9361     		str	r3, [r2, #24]
 420 0074 1D4B     		ldr	r3, .L34+20
 421 0076 9B69     		ldr	r3, [r3, #24]
 422 0078 03F00803 		and	r3, r3, #8
 423 007c BB61     		str	r3, [r7, #24]
 424 007e BB69     		ldr	r3, [r7, #24]
 425              	.LBE4:
 167:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 426              		.loc 1 167 4
 427 0080 26E0     		b	.L28
 428              	.L30:
 429              	.LBB5:
 171:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 430              		.loc 1 171 4
 431 0082 1A4B     		ldr	r3, .L34+20
 432 0084 9B69     		ldr	r3, [r3, #24]
 433 0086 194A     		ldr	r2, .L34+20
 434 0088 43F01003 		orr	r3, r3, #16
 435 008c 9361     		str	r3, [r2, #24]
 436 008e 174B     		ldr	r3, .L34+20
 437 0090 9B69     		ldr	r3, [r3, #24]
 438 0092 03F01003 		and	r3, r3, #16
 439 0096 7B61     		str	r3, [r7, #20]
 440 0098 7B69     		ldr	r3, [r7, #20]
 441              	.LBE5:
 172:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 442              		.loc 1 172 4
 443 009a 19E0     		b	.L28
 444              	.L29:
 445              	.LBB6:
 176:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 446              		.loc 1 176 4
ARM GAS  /tmp/ccpY5WC4.s 			page 13


 447 009c 134B     		ldr	r3, .L34+20
 448 009e 9B69     		ldr	r3, [r3, #24]
 449 00a0 124A     		ldr	r2, .L34+20
 450 00a2 43F02003 		orr	r3, r3, #32
 451 00a6 9361     		str	r3, [r2, #24]
 452 00a8 104B     		ldr	r3, .L34+20
 453 00aa 9B69     		ldr	r3, [r3, #24]
 454 00ac 03F02003 		and	r3, r3, #32
 455 00b0 3B61     		str	r3, [r7, #16]
 456 00b2 3B69     		ldr	r3, [r7, #16]
 457              	.LBE6:
 177:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 458              		.loc 1 177 4
 459 00b4 0CE0     		b	.L28
 460              	.L27:
 461              	.LBB7:
 181:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** 			break;
 462              		.loc 1 181 4
 463 00b6 0D4B     		ldr	r3, .L34+20
 464 00b8 9B69     		ldr	r3, [r3, #24]
 465 00ba 0C4A     		ldr	r2, .L34+20
 466 00bc 43F04003 		orr	r3, r3, #64
 467 00c0 9361     		str	r3, [r2, #24]
 468 00c2 0A4B     		ldr	r3, .L34+20
 469 00c4 9B69     		ldr	r3, [r3, #24]
 470 00c6 03F04003 		and	r3, r3, #64
 471 00ca FB60     		str	r3, [r7, #12]
 472 00cc FB68     		ldr	r3, [r7, #12]
 473              	.LBE7:
 182:../../lib/libhalglue/bshal/stm32/bshal_gpio_stm32.c **** #endif
 474              		.loc 1 182 4
 475 00ce 00BF     		nop
 476              	.L28:
 477              	.L33:
 478              		.loc 1 236 1
 479 00d0 00BF     		nop
 480 00d2 2837     		adds	r7, r7, #40
 481              		.cfi_def_cfa_offset 8
 482 00d4 BD46     		mov	sp, r7
 483              		.cfi_def_cfa_register 13
 484              		@ sp needed
 485 00d6 80BD     		pop	{r7, pc}
 486              	.L35:
 487              		.align	2
 488              	.L34:
 489 00d8 00180140 		.word	1073813504
 490 00dc 00140140 		.word	1073812480
 491 00e0 00100140 		.word	1073811456
 492 00e4 00080140 		.word	1073809408
 493 00e8 000C0140 		.word	1073810432
 494 00ec 00100240 		.word	1073876992
 495              		.cfi_endproc
 496              	.LFE68:
 498              		.text
 499              	.Letext0:
 500              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 501              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
ARM GAS  /tmp/ccpY5WC4.s 			page 14


 502              		.file 4 "../../ext/STM32CubeF1/Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 503              		.file 5 "../../ext/STM32CubeF1/Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
ARM GAS  /tmp/ccpY5WC4.s 			page 15


DEFINED SYMBOLS
                            *ABS*:0000000000000000 bshal_gpio_stm32.c
     /tmp/ccpY5WC4.s:16     .text.bshal_gpio_encode_pin:0000000000000000 $t
     /tmp/ccpY5WC4.s:24     .text.bshal_gpio_encode_pin:0000000000000000 bshal_gpio_encode_pin
     /tmp/ccpY5WC4.s:150    .text.bshal_gpio_encode_pin:00000000000000a0 $d
     /tmp/ccpY5WC4.s:159    .text.bshal_gpio_decode_pin:0000000000000000 $t
     /tmp/ccpY5WC4.s:166    .text.bshal_gpio_decode_pin:0000000000000000 bshal_gpio_decode_pin
     /tmp/ccpY5WC4.s:267    .text.bshal_gpio_decode_pin:0000000000000080 $d
     /tmp/ccpY5WC4.s:276    .text.bshal_gpio_write_pin:0000000000000000 $t
     /tmp/ccpY5WC4.s:283    .text.bshal_gpio_write_pin:0000000000000000 bshal_gpio_write_pin
     /tmp/ccpY5WC4.s:338    .text.bshal_gpio_port_enable_clock:0000000000000000 $t
     /tmp/ccpY5WC4.s:345    .text.bshal_gpio_port_enable_clock:0000000000000000 bshal_gpio_port_enable_clock
     /tmp/ccpY5WC4.s:489    .text.bshal_gpio_port_enable_clock:00000000000000d8 $d
                           .group:0000000000000000 wm4.0.1098e563ef56396ca346ad6c5e97276e
                           .group:0000000000000000 wm4.ieeefp.h.77.af21f134a392aadc2c66139cb51ca3a9
                           .group:0000000000000000 wm4._newlib_version.h.4.bfdf54b0af045d4a71376ae00f63a22c
                           .group:0000000000000000 wm4.newlib.h.18.1c9fedb6b3cd797cff253cc0fd593ef2
                           .group:0000000000000000 wm4.features.h.22.fad1cec3bc7ff06488171438dbdcfd02
                           .group:0000000000000000 wm4.config.h.224.c701144a7b0518c6ee9b9b5465b79f81
                           .group:0000000000000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:0000000000000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:0000000000000000 wm4.stddef.h.181.13772e73e5434e8cc4fafaaddad2b5da
                           .group:0000000000000000 wm4.stddef.h.39.cf3ebec0bc8c9e3d2f276a64e0fe5e7a
                           .group:0000000000000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:0000000000000000 wm4.stddef.h.155.3588ebfdd1e8c7ede80509bb9c3b8009
                           .group:0000000000000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:0000000000000000 wm4._types.h.127.34941de1b2539d59d5cac00e0dd27a45
                           .group:0000000000000000 wm4.reent.h.17.e292bf8b0bec6c96e131a54347145a30
                           .group:0000000000000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:0000000000000000 wm4.reent.h.77.dcd6129ff07fe81bd5636db29abe53b2
                           .group:0000000000000000 wm4.cdefs.h.49.39045112216f6a021dbdffe3bf5accce
                           .group:0000000000000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:0000000000000000 wm4.stdlib.h.56.f4862cfbf4363a1db01842d5bdf72c18
                           .group:0000000000000000 wm4._intsup.h.10.48bafbb683905c4daa4565a85aeeb264
                           .group:0000000000000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:0000000000000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:0000000000000000 wm4.stdbool.h.29.4a1c88fe569adb8d03217dd16982ca34
                           .group:0000000000000000 wm4.stm32f1xx.h.39.e8c98c5ce2cd95856eed179966374e12
                           .group:0000000000000000 wm4.stm32f103xb.h.38.ec967d5ad9d3269cb0788eebda048e38
                           .group:0000000000000000 wm4.cmsis_version.h.32.4d5822004c01a829a975260e854b5f8e
                           .group:0000000000000000 wm4.core_cm3.h.66.fc46cac19810db8f98d67da7ef88f42c
                           .group:0000000000000000 wm4.cmsis_gcc.h.26.4f5798e999d5690b80e6ded3ecc94b37
                           .group:0000000000000000 wm4.core_cm3.h.127.f4474120f1a7524deb56f9d74ff175da
                           .group:0000000000000000 wm4.stm32f103xb.h.573.10249aa7473ca93be896fed94046a725
                           .group:0000000000000000 wm4.stm32f1xx.h.162.96b09079a093c34dbd7f0b85cbd0ddee
                           .group:0000000000000000 wm4.stm32f1xx_hal_conf.h.24.fb218a6cd2ee35d840b3eac0f5fb4119
                           .group:0000000000000000 wm4.stm32_hal_legacy.h.23.91ba5b544a4c2be2620a1e7ff0049e10
                           .group:0000000000000000 wm4.stm32f1xx_hal_def.h.57.41a4613fd5751fa2224a0bf945cee91b
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc.h.95.21591bbc513aaa813c0b8640c3b32517
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc_ex.h.22.8763f99bc1e3e2dcf0febe9161d81b37
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc.h.1202.f8e5f9e0cf4eef7840facf5396029056
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio.h.22.fa638d688dcc57ca806fe6a7831b0d04
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio_ex.h.22.51a50ef3512cd78017ce666a32d364bf
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio.h.263.f5ebf2f545ade59412ab9261c8e35dc4
                           .group:0000000000000000 wm4.stm32f1xx_hal_exti.h.22.e26491d042c8079c3ca67eca341af862
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma.h.22.3c14338534886827bf3aeaa2a7f412a1
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma_ex.h.22.001ac4d7f81ccbdcae49bd65c13858c8
ARM GAS  /tmp/ccpY5WC4.s 			page 16


                           .group:0000000000000000 wm4.stm32f1xx_hal_dma.h.409.cafcd2cfe701091535636be537c18293
                           .group:0000000000000000 wm4.stm32f1xx_hal_can.h.22.9c5cbafab9070e25b2f93744f73f31d3
                           .group:0000000000000000 wm4.stm32f1xx_hal_cortex.h.22.b5f4174bb6a50d95405567b8f50e0900
                           .group:0000000000000000 wm4.stm32f1xx_hal_adc.h.23.7d9534ac2977bed50266ba8246ab0e90
                           .group:0000000000000000 wm4.stm32f1xx_hal_adc_ex.h.22.3f3261b879b4e7059748d94dd89f7d18
                           .group:0000000000000000 wm4.stm32f1xx_hal_crc.h.22.87a86a55c6bcf304cab68a78bda4e4b0
                           .group:0000000000000000 wm4.stm32f1xx_hal_flash.h.22.5cea9a7210e6315b41724b47b5fdf203
                           .group:0000000000000000 wm4.stm32f1xx_hal_flash_ex.h.22.d4e19c21f2a86fa2f8ec2c2d5f1ab2af
                           .group:0000000000000000 wm4.stm32f1xx_hal_i2c.h.22.ad52786857e2aa8ebdf15f14f11ce081
                           .group:0000000000000000 wm4.stm32f1xx_hal_iwdg.h.22.fb89d7d74008a11634b49f24b2a7251c
                           .group:0000000000000000 wm4.stm32f1xx_hal_pwr.h.22.3438c476faafc3240bf146f143df3fcd
                           .group:0000000000000000 wm4.stm32f1xx_hal_rtc.h.22.2e6c4901b3fecdb0d30ea29b38e42312
                           .group:0000000000000000 wm4.stm32f1xx_hal_rtc_ex.h.22.7132215fff3c2f214804b30db0033252
                           .group:0000000000000000 wm4.stm32f1xx_hal_spi.h.22.b31d455e8b6e1263b36c3848e181fcd3
                           .group:0000000000000000 wm4.stm32f1xx_hal_tim.h.22.a16e206564e97dbace9faae59a0d6008
                           .group:0000000000000000 wm4.stm32f1xx_hal_uart.h.22.5f7992e497faa36aa98f09f7214f4dbb
                           .group:0000000000000000 wm4.stm32f1xx_hal_usart.h.22.2faa5f38db3b50ec6d148ec053db51df
                           .group:0000000000000000 wm4.stm32f1xx_hal_irda.h.22.d5842d01b8e511da8aab9dac5eab084d
                           .group:0000000000000000 wm4.stm32f1xx_hal_smartcard.h.22.910d31efb108bad068ed688d89837f4b
                           .group:0000000000000000 wm4.stm32f1xx_hal_wwdg.h.22.b35f34e70a149b77d65030a8695a70d2
                           .group:0000000000000000 wm4.stm32f1xx_ll_usb.h.22.573a89b5589ed8d93ea72c39c5d12974
                           .group:0000000000000000 wm4.stm32f1xx_hal_pcd.h.161.76733d98d42c8efa1b20a15947173729
                           .group:0000000000000000 wm4.stm32f1xx_hal.h.88.91065c0692bed6019c34f1e9c00589fd
                           .group:0000000000000000 wm4.hal.h.172.6e20687bda8e7d4c44873f5dcdab8a03

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
