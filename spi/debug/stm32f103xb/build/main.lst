ARM GAS  /tmp/ccwaORKT.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.HardFault_Handler,"ax",%progbits
  16              		.align	1
  17              		.global	HardFault_Handler
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	HardFault_Handler:
  25              	.LFB65:
  26              		.file 1 "main.c"
   1:main.c        **** /*
   2:main.c        **** 
   3:main.c        ****  File: 		main.c
   4:main.c        ****  Author:	André van Schoubroeck
   5:main.c        ****  License:	MIT
   6:main.c        **** 
   7:main.c        **** 
   8:main.c        ****  MIT License
   9:main.c        **** 
  10:main.c        ****  Copyright (c) 2017, 2018, 2019, 2020 André van Schoubroeck <andre@blaatschaap.be>
  11:main.c        **** 
  12:main.c        ****  Permission is hereby granted, free of charge, to any person obtaining a copy
  13:main.c        ****  of this software and associated documentation files (the "Software"), to deal
  14:main.c        ****  in the Software without restriction, including without limitation the rights
  15:main.c        ****  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  16:main.c        ****  copies of the Software, and to permit persons to whom the Software is
  17:main.c        ****  furnished to do so, subject to the following conditions:
  18:main.c        ****  The above copyright notice and this permission notice shall be included in all
  19:main.c        ****  copies or substantial portions of the Software.
  20:main.c        **** 
  21:main.c        ****  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  22:main.c        ****  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  23:main.c        ****  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  24:main.c        ****  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  25:main.c        ****  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  26:main.c        ****  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  27:main.c        ****  SOFTWARE.
  28:main.c        **** 
  29:main.c        ****  */
  30:main.c        **** 
  31:main.c        **** #include <stdbool.h>
  32:main.c        **** #include <string.h>
ARM GAS  /tmp/ccwaORKT.s 			page 2


  33:main.c        **** #include <stdfix.h>
  34:main.c        **** 
  35:main.c        **** #include "system.h"
  36:main.c        **** 
  37:main.c        **** #include "bshal_spim.h"
  38:main.c        **** #include "bshal_delay.h"
  39:main.c        **** #include "bshal_i2cm.h"
  40:main.c        **** 
  41:main.c        **** #include "u8g2.h"
  42:main.c        **** 
  43:main.c        **** void HardFault_Handler(void) {
  27              		.loc 1 43 30
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32 0000 80B4     		push	{r7}
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 7, -4
  35 0002 00AF     		add	r7, sp, #0
  36              		.cfi_def_cfa_register 7
  44:main.c        **** 
  45:main.c        **** }
  37              		.loc 1 45 1
  38 0004 00BF     		nop
  39 0006 BD46     		mov	sp, r7
  40              		.cfi_def_cfa_register 13
  41              		@ sp needed
  42 0008 80BC     		pop	{r7}
  43              		.cfi_restore 7
  44              		.cfi_def_cfa_offset 0
  45 000a 7047     		bx	lr
  46              		.cfi_endproc
  47              	.LFE65:
  49              		.section	.text.SysTick_Handler,"ax",%progbits
  50              		.align	1
  51              		.global	SysTick_Handler
  52              		.syntax unified
  53              		.thumb
  54              		.thumb_func
  55              		.fpu softvfp
  57              	SysTick_Handler:
  58              	.LFB66:
  46:main.c        **** 
  47:main.c        **** void SysTick_Handler(void) {
  59              		.loc 1 47 28
  60              		.cfi_startproc
  61              		@ args = 0, pretend = 0, frame = 0
  62              		@ frame_needed = 1, uses_anonymous_args = 0
  63              		@ link register save eliminated.
  64 0000 80B4     		push	{r7}
  65              		.cfi_def_cfa_offset 4
  66              		.cfi_offset 7, -4
  67 0002 00AF     		add	r7, sp, #0
  68              		.cfi_def_cfa_register 7
  48:main.c        **** 
  49:main.c        **** }
ARM GAS  /tmp/ccwaORKT.s 			page 3


  69              		.loc 1 49 1
  70 0004 00BF     		nop
  71 0006 BD46     		mov	sp, r7
  72              		.cfi_def_cfa_register 13
  73              		@ sp needed
  74 0008 80BC     		pop	{r7}
  75              		.cfi_restore 7
  76              		.cfi_def_cfa_offset 0
  77 000a 7047     		bx	lr
  78              		.cfi_endproc
  79              	.LFE66:
  81              		.section	.text.SystemClock_Config,"ax",%progbits
  82              		.align	1
  83              		.global	SystemClock_Config
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  87              		.fpu softvfp
  89              	SystemClock_Config:
  90              	.LFB67:
  50:main.c        **** 
  51:main.c        **** void SystemClock_Config(void) {
  91              		.loc 1 51 31
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 1, uses_anonymous_args = 0
  95 0000 80B5     		push	{r7, lr}
  96              		.cfi_def_cfa_offset 8
  97              		.cfi_offset 7, -8
  98              		.cfi_offset 14, -4
  99 0002 00AF     		add	r7, sp, #0
 100              		.cfi_def_cfa_register 7
  52:main.c        **** 	ClockSetup_HSE8_SYS72();
 101              		.loc 1 52 2
 102 0004 FFF7FEFF 		bl	ClockSetup_HSE8_SYS72
  53:main.c        **** }
 103              		.loc 1 53 1
 104 0008 00BF     		nop
 105 000a 80BD     		pop	{r7, pc}
 106              		.cfi_endproc
 107              	.LFE67:
 109              		.global	spi_config_screen_screen
 110              		.section	.bss.spi_config_screen_screen,"aw",%nobits
 111              		.align	2
 114              	spi_config_screen_screen:
 115 0000 00000000 		.space	24
 115      00000000 
 115      00000000 
 115      00000000 
 115      00000000 
 116              		.section	.text.screen_init,"ax",%progbits
 117              		.align	1
 118              		.global	screen_init
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 122              		.fpu softvfp
ARM GAS  /tmp/ccwaORKT.s 			page 4


 124              	screen_init:
 125              	.LFB68:
  54:main.c        **** 
  55:main.c        **** bshal_spim_t spi_config_screen_screen;
  56:main.c        **** 
  57:main.c        **** void screen_init(){
 126              		.loc 1 57 19
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 1, uses_anonymous_args = 0
 130              		@ link register save eliminated.
 131 0000 80B4     		push	{r7}
 132              		.cfi_def_cfa_offset 4
 133              		.cfi_offset 7, -4
 134 0002 00AF     		add	r7, sp, #0
 135              		.cfi_def_cfa_register 7
  58:main.c        **** 
  59:main.c        **** }
 136              		.loc 1 59 1
 137 0004 00BF     		nop
 138 0006 BD46     		mov	sp, r7
 139              		.cfi_def_cfa_register 13
 140              		@ sp needed
 141 0008 80BC     		pop	{r7}
 142              		.cfi_restore 7
 143              		.cfi_def_cfa_offset 0
 144 000a 7047     		bx	lr
 145              		.cfi_endproc
 146              	.LFE68:
 148              		.section	.rodata
 149              		.align	2
 150              	.LC0:
 151 0000 48656C6C 		.ascii	"Hello World\000"
 151      6F20576F 
 151      726C6400 
 152              		.section	.text.main,"ax",%progbits
 153              		.align	1
 154              		.global	main
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu softvfp
 160              	main:
 161              	.LFB69:
  60:main.c        **** 
  61:main.c        **** 
  62:main.c        **** 
  63:main.c        **** int main() {
 162              		.loc 1 63 12
 163              		.cfi_startproc
 164              		@ args = 0, pretend = 0, frame = 0
 165              		@ frame_needed = 1, uses_anonymous_args = 0
 166 0000 80B5     		push	{r7, lr}
 167              		.cfi_def_cfa_offset 8
 168              		.cfi_offset 7, -8
 169              		.cfi_offset 14, -4
 170 0002 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccwaORKT.s 			page 5


 171              		.cfi_def_cfa_register 7
  64:main.c        **** #ifdef SEMI
  65:main.c        **** 	initialise_monitor_handles();
  66:main.c        **** 	printf("Hello world!\n");
  67:main.c        **** #endif
  68:main.c        **** 
  69:main.c        **** 	SystemClock_Config();
 172              		.loc 1 69 2
 173 0004 FFF7FEFF 		bl	SystemClock_Config
  70:main.c        **** 	SystemCoreClockUpdate();
 174              		.loc 1 70 2
 175 0008 FFF7FEFF 		bl	SystemCoreClockUpdate
  71:main.c        **** 
  72:main.c        **** 	bshal_delay_init();
 176              		.loc 1 72 2
 177 000c FFF7FEFF 		bl	bshal_delay_init
  73:main.c        **** 	bshal_delay_us(10);
 178              		.loc 1 73 2
 179 0010 0A20     		movs	r0, #10
 180 0012 FFF7FEFF 		bl	bshal_delay_us
  74:main.c        **** 	display_init();
 181              		.loc 1 74 2
 182 0016 FFF7FEFF 		bl	display_init
  75:main.c        **** 
  76:main.c        **** 	print("Hello World",1);
 183              		.loc 1 76 2
 184 001a 0121     		movs	r1, #1
 185 001c 0248     		ldr	r0, .L7
 186 001e FFF7FEFF 		bl	print
  77:main.c        **** 	framebuffer_apply();
 187              		.loc 1 77 2
 188 0022 FFF7FEFF 		bl	framebuffer_apply
 189              	.L6:
  78:main.c        **** 	while (1) {
 190              		.loc 1 78 8 discriminator 1
 191 0026 FEE7     		b	.L6
 192              	.L8:
 193              		.align	2
 194              	.L7:
 195 0028 00000000 		.word	.LC0
 196              		.cfi_endproc
 197              	.LFE69:
 199              		.text
 200              	.Letext0:
 201              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 202              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 203              		.file 4 "../../lib/libhalglue/bshal/bshal_spim.h"
 204              		.file 5 "../../lib/libhalglue/common/bshal_delay.h"
 205              		.file 6 "../../ext/STM32CubeF1/Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
ARM GAS  /tmp/ccwaORKT.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccwaORKT.s:16     .text.HardFault_Handler:0000000000000000 $t
     /tmp/ccwaORKT.s:24     .text.HardFault_Handler:0000000000000000 HardFault_Handler
     /tmp/ccwaORKT.s:50     .text.SysTick_Handler:0000000000000000 $t
     /tmp/ccwaORKT.s:57     .text.SysTick_Handler:0000000000000000 SysTick_Handler
     /tmp/ccwaORKT.s:82     .text.SystemClock_Config:0000000000000000 $t
     /tmp/ccwaORKT.s:89     .text.SystemClock_Config:0000000000000000 SystemClock_Config
     /tmp/ccwaORKT.s:114    .bss.spi_config_screen_screen:0000000000000000 spi_config_screen_screen
     /tmp/ccwaORKT.s:111    .bss.spi_config_screen_screen:0000000000000000 $d
     /tmp/ccwaORKT.s:117    .text.screen_init:0000000000000000 $t
     /tmp/ccwaORKT.s:124    .text.screen_init:0000000000000000 screen_init
     /tmp/ccwaORKT.s:149    .rodata:0000000000000000 $d
     /tmp/ccwaORKT.s:153    .text.main:0000000000000000 $t
     /tmp/ccwaORKT.s:160    .text.main:0000000000000000 main
     /tmp/ccwaORKT.s:195    .text.main:0000000000000028 $d
                           .group:0000000000000000 wm4.0.1098e563ef56396ca346ad6c5e97276e
                           .group:0000000000000000 wm4.stdbool.h.29.4a1c88fe569adb8d03217dd16982ca34
                           .group:0000000000000000 wm4._newlib_version.h.4.bfdf54b0af045d4a71376ae00f63a22c
                           .group:0000000000000000 wm4.newlib.h.18.1c9fedb6b3cd797cff253cc0fd593ef2
                           .group:0000000000000000 wm4.ieeefp.h.77.af21f134a392aadc2c66139cb51ca3a9
                           .group:0000000000000000 wm4.features.h.22.fad1cec3bc7ff06488171438dbdcfd02
                           .group:0000000000000000 wm4.config.h.224.c701144a7b0518c6ee9b9b5465b79f81
                           .group:0000000000000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:0000000000000000 wm4.stddef.h.39.144cf5ddcd53cbfdac30259dc1a6c87f
                           .group:0000000000000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:0000000000000000 wm4.stddef.h.155.3588ebfdd1e8c7ede80509bb9c3b8009
                           .group:0000000000000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:0000000000000000 wm4._types.h.127.34941de1b2539d59d5cac00e0dd27a45
                           .group:0000000000000000 wm4.reent.h.17.e292bf8b0bec6c96e131a54347145a30
                           .group:0000000000000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:0000000000000000 wm4.reent.h.77.dcd6129ff07fe81bd5636db29abe53b2
                           .group:0000000000000000 wm4.cdefs.h.49.39045112216f6a021dbdffe3bf5accce
                           .group:0000000000000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:0000000000000000 wm4.stddef.h.155.ba788add86a0e365f264484f110c3c29
                           .group:0000000000000000 wm4.stdfix.h.31.5190ba3a8e4d3e92482491037841bf33
                           .group:0000000000000000 wm4._intsup.h.10.48bafbb683905c4daa4565a85aeeb264
                           .group:0000000000000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:0000000000000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:0000000000000000 wm4.stm32f1xx.h.39.e8c98c5ce2cd95856eed179966374e12
                           .group:0000000000000000 wm4.stm32f103xb.h.38.ec967d5ad9d3269cb0788eebda048e38
                           .group:0000000000000000 wm4.cmsis_version.h.32.4d5822004c01a829a975260e854b5f8e
                           .group:0000000000000000 wm4.core_cm3.h.66.fc46cac19810db8f98d67da7ef88f42c
                           .group:0000000000000000 wm4.cmsis_gcc.h.26.4f5798e999d5690b80e6ded3ecc94b37
                           .group:0000000000000000 wm4.core_cm3.h.127.f4474120f1a7524deb56f9d74ff175da
                           .group:0000000000000000 wm4.stm32f103xb.h.573.10249aa7473ca93be896fed94046a725
                           .group:0000000000000000 wm4.stm32f1xx.h.162.96b09079a093c34dbd7f0b85cbd0ddee
                           .group:0000000000000000 wm4.stm32f1xx_hal_conf.h.24.fb218a6cd2ee35d840b3eac0f5fb4119
                           .group:0000000000000000 wm4.stm32_hal_legacy.h.23.91ba5b544a4c2be2620a1e7ff0049e10
                           .group:0000000000000000 wm4.stm32f1xx_hal_def.h.57.41a4613fd5751fa2224a0bf945cee91b
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc.h.95.21591bbc513aaa813c0b8640c3b32517
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc_ex.h.22.8763f99bc1e3e2dcf0febe9161d81b37
                           .group:0000000000000000 wm4.stm32f1xx_hal_rcc.h.1202.f8e5f9e0cf4eef7840facf5396029056
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio.h.22.fa638d688dcc57ca806fe6a7831b0d04
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio_ex.h.22.51a50ef3512cd78017ce666a32d364bf
                           .group:0000000000000000 wm4.stm32f1xx_hal_gpio.h.263.f5ebf2f545ade59412ab9261c8e35dc4
                           .group:0000000000000000 wm4.stm32f1xx_hal_exti.h.22.e26491d042c8079c3ca67eca341af862
ARM GAS  /tmp/ccwaORKT.s 			page 7


                           .group:0000000000000000 wm4.stm32f1xx_hal_dma.h.22.3c14338534886827bf3aeaa2a7f412a1
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma_ex.h.22.001ac4d7f81ccbdcae49bd65c13858c8
                           .group:0000000000000000 wm4.stm32f1xx_hal_dma.h.409.cafcd2cfe701091535636be537c18293
                           .group:0000000000000000 wm4.stm32f1xx_hal_can.h.22.9c5cbafab9070e25b2f93744f73f31d3
                           .group:0000000000000000 wm4.stm32f1xx_hal_cortex.h.22.b5f4174bb6a50d95405567b8f50e0900
                           .group:0000000000000000 wm4.stm32f1xx_hal_adc.h.23.7d9534ac2977bed50266ba8246ab0e90
                           .group:0000000000000000 wm4.stm32f1xx_hal_adc_ex.h.22.3f3261b879b4e7059748d94dd89f7d18
                           .group:0000000000000000 wm4.stm32f1xx_hal_crc.h.22.87a86a55c6bcf304cab68a78bda4e4b0
                           .group:0000000000000000 wm4.stm32f1xx_hal_flash.h.22.5cea9a7210e6315b41724b47b5fdf203
                           .group:0000000000000000 wm4.stm32f1xx_hal_flash_ex.h.22.d4e19c21f2a86fa2f8ec2c2d5f1ab2af
                           .group:0000000000000000 wm4.stm32f1xx_hal_i2c.h.22.ad52786857e2aa8ebdf15f14f11ce081
                           .group:0000000000000000 wm4.stm32f1xx_hal_iwdg.h.22.fb89d7d74008a11634b49f24b2a7251c
                           .group:0000000000000000 wm4.stm32f1xx_hal_pwr.h.22.3438c476faafc3240bf146f143df3fcd
                           .group:0000000000000000 wm4.stm32f1xx_hal_rtc.h.22.2e6c4901b3fecdb0d30ea29b38e42312
                           .group:0000000000000000 wm4.stm32f1xx_hal_rtc_ex.h.22.7132215fff3c2f214804b30db0033252
                           .group:0000000000000000 wm4.stm32f1xx_hal_spi.h.22.b31d455e8b6e1263b36c3848e181fcd3
                           .group:0000000000000000 wm4.stm32f1xx_hal_tim.h.22.a16e206564e97dbace9faae59a0d6008
                           .group:0000000000000000 wm4.stm32f1xx_hal_uart.h.22.5f7992e497faa36aa98f09f7214f4dbb
                           .group:0000000000000000 wm4.stm32f1xx_hal_usart.h.22.2faa5f38db3b50ec6d148ec053db51df
                           .group:0000000000000000 wm4.stm32f1xx_hal_irda.h.22.d5842d01b8e511da8aab9dac5eab084d
                           .group:0000000000000000 wm4.stm32f1xx_hal_smartcard.h.22.910d31efb108bad068ed688d89837f4b
                           .group:0000000000000000 wm4.stm32f1xx_hal_wwdg.h.22.b35f34e70a149b77d65030a8695a70d2
                           .group:0000000000000000 wm4.stm32f1xx_ll_usb.h.22.573a89b5589ed8d93ea72c39c5d12974
                           .group:0000000000000000 wm4.stm32f1xx_hal_pcd.h.161.76733d98d42c8efa1b20a15947173729
                           .group:0000000000000000 wm4.stm32f1xx_hal.h.88.91065c0692bed6019c34f1e9c00589fd
                           .group:0000000000000000 wm4.inttypes.h.14.b28deb26920e51e0da310220ef0f9003
                           .group:0000000000000000 wm4.inttypes.h.28.684aa7736e7ecc9a6ffc44acc61c7a90
                           .group:0000000000000000 wm4.bshal_i2cm.h.11.09ce5fde9ee09ba50563c37b9993575a
                           .group:0000000000000000 wm4.u8x8.h.86.cabc7409edfb1837158d17befff7110f
                           .group:0000000000000000 wm4.stdarg.h.31.b55da1089056868966f25de5dbfc7d3c
                           .group:0000000000000000 wm4.syslimits.h.34.de5cbd310098bc5895998b6bde577ed2
                           .group:0000000000000000 wm4.limits.h.9.70fb0ada6f71b16202a66baaa6d8ea70
                           .group:0000000000000000 wm4.limits.h.60.56a1ae353e2028a24298ec6463b8b593
                           .group:0000000000000000 wm4.u8x8.h.143.822f477279833be4088a86fb9f81d8c6
                           .group:0000000000000000 wm4.u8g2.h.77.171dd9fbb9bf5ec4dc8a7f60edfc7e1f

UNDEFINED SYMBOLS
ClockSetup_HSE8_SYS72
SystemCoreClockUpdate
bshal_delay_init
bshal_delay_us
display_init
print
framebuffer_apply
